"use strict";var _slicedToArray=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),hangul=function(){function e(e,t){if(!/[a-zA-Z]/.test(t))return void(e.value+=t);var c=e.value,f=a[t];e.value+=f;var v=c.charCodeAt(c.length-1),g=f.charCodeAt(0),h=void 0,y=void 0,p=void 0,m=void 0;if(12593<=v&&v<=12622)12623<=g&&g<=12643&&(h=44032+588*o.indexOf(c[c.length-1])+28*u.indexOf(f),e.value=c.substring(0,c.length-1)+n(h));else if(44032<=v&&v<=55203){var x=r(v),k=_slicedToArray(x,3);if(m=k[0],p=k[1],y=k[2],0===m)if(12593<=g&&g<=12622&&i.indexOf(f)>=0)h=v+i.indexOf(f),e.value=c.substring(0,c.length-1)+n(h);else{var b=u[p];"undefined"!=typeof l[b]&&"undefined"!=typeof l[b][f]&&(v-=28*(p-u.indexOf(l[b][f])),e.value=c.substring(0,c.length-1)+n(v))}else{var O=i[m];if(12623<=g&&g<=12643){if("undefined"==typeof s[O])h=44032+588*o.indexOf(O)+28*u.indexOf(f),v-=m;else{var A=s[O][0],S=s[O][1];h=44032+588*o.indexOf(S)+28*u.indexOf(f),v=v-m+i.indexOf(A)}e.value=c.substring(0,c.length-1)+n(v)+n(h)}else"undefined"!=typeof d[O]&&"undefined"!=typeof d[O][f]&&(v=v-m+i.indexOf(d[O][f]),e.value=c.substring(0,c.length-1)+n(v))}}}function t(e){var t=e.value,a=t.charCodeAt(t.length-1),u=void 0,i=void 0,l=void 0,s=void 0;if(44032<=a&&a<=55203){var d=r(a),c=_slicedToArray(d,3);if(s=c[0],l=c[1],i=c[2],0===s){var f=o[i];e.value=t.substring(0,t.length-1)+f}else u=a-s,e.value=t.substring(0,t.length-1)+n(u)}else e.value=t.substring(0,t.length-1)}function n(e){return String.fromCharCode(e)}function r(e){var t=(e-44032)%28,n=(e-44032-t)%588/28,r=parseInt((e-44032)/588);return[t,n,r]}var a={g:"ㅎ",G:"ㅎ",q:"ㅂ",Q:"ㅃ",n:"ㅜ",N:"ㅜ",b:"ㅠ",B:"ㅠ",z:"ㅋ",Z:"ㅋ",p:"ㅔ",P:"ㅖ",e:"ㄷ",E:"ㄸ",f:"ㄹ",F:"ㄹ",a:"ㅁ",A:"ㅁ",d:"ㅇ",D:"ㅇ",m:"ㅡ",M:"ㅡ",l:"ㅣ",L:"ㅣ",c:"ㅊ",C:"ㅊ",j:"ㅓ",J:"ㅓ",r:"ㄱ",R:"ㄲ",h:"ㅗ",H:"ㅗ",v:"ㅍ",V:"ㅍ",o:"ㅐ",O:"ㅒ",x:"ㅌ",X:"ㅌ",w:"ㅈ",W:"ㅉ",k:"ㅏ",K:"ㅏ",y:"ㅛ",Y:"ㅛ",t:"ㅅ",T:"ㅆ",u:"ㅕ",U:"ㅕ",i:"ㅑ",I:"ㅑ",s:"ㄴ",S:"ㄴ"},o=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],u=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],i=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],l={"ㅗ":{"ㅏ":"ㅘ","ㅐ":"ㅙ","ㅣ":"ㅚ"},"ㅜ":{"ㅓ":"ㅝ","ㅔ":"ㅞ","ㅣ":"ㅟ"},"ㅡ":{"ㅣ":"ㅢ"}},s={"ㄳ":["ㄱ","ㅅ"],"ㄵ":["ㄴ","ㅈ"],"ㄶ":["ㄴ","ㅎ"],"ㄺ":["ㄹ","ㄱ"],"ㄻ":["ㄹ","ㅁ"],"ㄼ":["ㄹ","ㅂ"],"ㄽ":["ㄹ","ㅅ"],"ㄾ":["ㄹ","ㅌ"],"ㄿ":["ㄹ","ㅍ"],"ㅀ":["ㄹ","ㅎ"],"ㅄ":["ㅂ","ㅅ"]},d={"ㄱ":{"ㅅ":"ㄳ"},"ㄴ":{"ㅈ":"ㄵ","ㅎ":"ㄶ"},"ㄹ":{"ㄱ":"ㄺ","ㅁ":"ㄻ","ㅂ":"ㄼ","ㅅ":"ㄽ","ㅌ":"ㄾ","ㅍ":"ㄿ","ㅎ":"ㅀ"},"ㅂ":{"ㅅ":"ㅄ"}};return{composeHangul:e,unicodeDecode:n,decomposeHangul:t}}();!function(){var e=document.querySelector("textarea");e.value=localStorage.getItem("hangul")||"",e.focus();var t=!1;e.addEventListener("keydown",function(n){console.log(n);e.value;n.metaKey||"Process"===n.key||"Unidentified"===n.key||("Backspace"===n.code||"Backspace"===n.key?(hangul.decomposeHangul(e),n.preventDefault()):"Space"===n.code||" "===n.key?(e.value+=" ",n.preventDefault()):"Enter"===n.code||"Enter"==n.key?n.preventDefault():(n.code||n.key).match(/Shift|Ctrl|Alt(Left|Right)?/)?n.preventDefault():/F\d+/.test(n.key)||(n.code||n.key).match(/(Arrow)?Left|Right|Up|Down/)||(hangul.composeHangul(e,n.key),n.preventDefault())),t=!0}),$(".cf li").on("click",function(n){var r=$(this).find("span").text();console.log(n.currentTarget),console.log(r),"Delete"===r?hangul.decomposeHangul(e):" "===r?e.value+=" ":r.match(/return|shift|option|command|fn|caps/)||/F\d+/.test(r)||hangul.composeHangul(e,r),t=!0}),setInterval(function(){localStorage.setItem("hangul",e.value)},1e4),setInterval(function(){if(t&&""!==e.value){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(n.status>=200&&n.status<300||304===n.status?document.getElementById("dictionary").childNodes[1].innerHTML=n.responseText:console.log("Request not successful: "+n.status))},n.open("GET","/crawler?q="+e.value),n.send(),t=!1}},3e3);var n=document.querySelectorAll(".keyboard");setTimeout(function(){$(n).addClass("show")},500),n.addEventListener("transitionend",function(e){})}();