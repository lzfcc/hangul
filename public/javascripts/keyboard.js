"use strict";var _slicedToArray=function(){function e(e,t){var n=[],r=!0,a=!1,u=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,u=e}finally{try{!r&&o.return&&o.return()}finally{if(a)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),hangul=function(){function e(e,t){if(!/[a-zA-Z]/.test(t))return void(e.value+=t);var f=e.value,c=a[t];e.value+=c;var v=f.charCodeAt(f.length-1),g=c.charCodeAt(0),y=void 0,h=void 0,p=void 0,m=void 0;if(12593<=v&&v<=12622)12623<=g&&g<=12643&&(y=44032+588*u.indexOf(f[f.length-1])+28*i.indexOf(c),e.value=f.substring(0,f.length-1)+n(y));else if(44032<=v&&v<=55203){var x=r(v),O=_slicedToArray(x,3);if(m=O[0],p=O[1],h=O[2],0===m)if(12593<=g&&g<=12622&&o.indexOf(c)>=0)y=v+o.indexOf(c),e.value=f.substring(0,f.length-1)+n(y);else{var b=i[p];"undefined"!=typeof l[b]&&"undefined"!=typeof l[b][c]&&(v-=28*(p-i.indexOf(l[b][c])),e.value=f.substring(0,f.length-1)+n(v))}else{var k=o[m];if(12623<=g&&g<=12643){if("undefined"==typeof s[k])y=44032+588*u.indexOf(k)+28*i.indexOf(c),v-=m;else{var A=s[k][0],S=s[k][1];y=44032+588*u.indexOf(S)+28*i.indexOf(c),v=v-m+o.indexOf(A)}e.value=f.substring(0,f.length-1)+n(v)+n(y)}else"undefined"!=typeof d[k]&&"undefined"!=typeof d[k][c]&&(v=v-m+o.indexOf(d[k][c]),e.value=f.substring(0,f.length-1)+n(v))}}}function t(e){var t=e.value,a=t.charCodeAt(t.length-1),i=void 0,o=void 0,l=void 0,s=void 0;if(44032<=a&&a<=55203){var d=r(a),f=_slicedToArray(d,3);if(s=f[0],l=f[1],o=f[2],0===s){var c=u[o];e.value=t.substring(0,t.length-1)+c}else i=a-s,e.value=t.substring(0,t.length-1)+n(i)}else e.value=t.substring(0,t.length-1)}function n(e){return String.fromCharCode(e)}function r(e){var t=(e-44032)%28,n=(e-44032-t)%588/28,r=parseInt((e-44032)/588);return[t,n,r]}var a={g:"ㅎ",G:"ㅎ",q:"ㅂ",Q:"ㅃ",n:"ㅜ",N:"ㅜ",b:"ㅠ",B:"ㅠ",z:"ㅋ",Z:"ㅋ",p:"ㅔ",P:"ㅖ",e:"ㄷ",E:"ㄸ",f:"ㄹ",F:"ㄹ",a:"ㅁ",A:"ㅁ",d:"ㅇ",D:"ㅇ",m:"ㅡ",M:"ㅡ",l:"ㅣ",L:"ㅣ",c:"ㅊ",C:"ㅊ",j:"ㅓ",J:"ㅓ",r:"ㄱ",R:"ㄲ",h:"ㅗ",H:"ㅗ",v:"ㅍ",V:"ㅍ",o:"ㅐ",O:"ㅒ",x:"ㅌ",X:"ㅌ",w:"ㅈ",W:"ㅉ",k:"ㅏ",K:"ㅏ",y:"ㅛ",Y:"ㅛ",t:"ㅅ",T:"ㅆ",u:"ㅕ",U:"ㅕ",i:"ㅑ",I:"ㅑ",s:"ㄴ",S:"ㄴ"},u=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],i=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],o=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],l={"ㅗ":{"ㅏ":"ㅘ","ㅐ":"ㅙ","ㅣ":"ㅚ"},"ㅜ":{"ㅓ":"ㅝ","ㅔ":"ㅞ","ㅣ":"ㅟ"},"ㅡ":{"ㅣ":"ㅢ"}},s={"ㄳ":["ㄱ","ㅅ"],"ㄵ":["ㄴ","ㅈ"],"ㄶ":["ㄴ","ㅎ"],"ㄺ":["ㄹ","ㄱ"],"ㄻ":["ㄹ","ㅁ"],"ㄼ":["ㄹ","ㅂ"],"ㄽ":["ㄹ","ㅅ"],"ㄾ":["ㄹ","ㅌ"],"ㄿ":["ㄹ","ㅍ"],"ㅀ":["ㄹ","ㅎ"],"ㅄ":["ㅂ","ㅅ"]},d={"ㄱ":{"ㅅ":"ㄳ"},"ㄴ":{"ㅈ":"ㄵ","ㅎ":"ㄶ"},"ㄹ":{"ㄱ":"ㄺ","ㅁ":"ㄻ","ㅂ":"ㄼ","ㅅ":"ㄽ","ㅌ":"ㄾ","ㅍ":"ㄿ","ㅎ":"ㅀ"},"ㅂ":{"ㅅ":"ㅄ"}};return{composeHangul:e,unicodeDecode:n,decomposeHangul:t}}();!function(){var e=document.querySelector("textarea");e.value=localStorage.getItem("hangul")||"",e.focus();var t=!1,n="";e.addEventListener("keydown",function(t){console.log(t);e.value;t.metaKey||"Process"===t.key||"Unidentified"===t.key||("Backspace"===t.code||"Backspace"===t.key?(hangul.decomposeHangul(e),t.preventDefault()):"Space"===t.code||" "===t.key?(e.value+=" ",t.preventDefault()):"Enter"===t.code||"Enter"==t.key?t.preventDefault():(t.code||t.key).match(/Shift|Ctrl|Alt(Left|Right)?/)?t.preventDefault():/F\d+/.test(t.key)||(t.code||t.key).match(/(Arrow)?Left|Right|Up|Down/)||(hangul.composeHangul(e,t.key),t.preventDefault()))}),e.addEventListener("input",function(){t=!0,n=e.value}),setInterval(function(){localStorage.setItem("hangul",e.value)},5e3),setInterval(function(){if(t&&""!==e.value&&e.value!==n){var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(r.status>=200&&r.status<300||304===r.status?document.getElementById("dictionary").innerHTML=r.responseText:console.log("Request not successful: "+r.status))},r.open("GET","/crawler?q="+e.value),r.send(),t=!1}},3e3)}();